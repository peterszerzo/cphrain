<!DOCTYPE html>
<html>
  <head>
    <title>CphRain | Task 2</title>
    <meta charset="utf-8">
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Inconsolata" rel="stylesheet">
    <link href="demo.css" rel="stylesheet">
    <meta charset='utf-8'>
  </head>
  <body>
    <div id="app"></div>
    <div class="commentary">
      <div class="commentary__content">
        <h2>Task 2</h2>
        <p>+ moving uniformly.</p>
      </div>
    </div>
    <script src="vendor/cphrain.js"></script>
    <script>
      function generateDrops(n) {
        const drops = [];
        for (let i = 0; i < n; i++) {
          drops.push(generateDrop());
        }
        return drops;
      }

      function generateDrop() {
        return {
          x: Math.random(),
          y: Math.random(),
          scale: 1,
          blur: 0
        };
      }

      function stepDrop(drop) {
        const isOver = drop.y > 1.1;
        return {
          scale: drop.scale,
          blur: drop.blur,
          x: isOver ? Math.random() : drop.x,
          y: isOver ? -.1 : drop.y + .008
        };
      }

      function stepDrops(drops) {
        return drops.map(stepDrop);
      }

      console.log('Hi, Mom!');
      cphRain(generateDrops(30), stepDrops, document.getElementById('app'));
    </script>
  </body>
</html>
